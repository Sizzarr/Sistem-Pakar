{% extends "base.html" %}
{% block content %}
<div class="rounded-2xl bg-white shadow p-6">
  <div class="flex items-center gap-3">
    <h1 class="text-2xl font-bold">Admin Dashboard</h1>
    <button id="btnLogout" class="ml-auto rounded-xl border px-3 py-2 text-sm hover:bg-slate-50">Logout</button>
  </div>
  <p class="mt-2 text-slate-600">CRUD sederhana. Kalau mau UI yang cantik, itu proyek lain.</p>

  <div class="mt-6 grid gap-8">
    <section>
      <h2 class="text-lg font-semibold">Penyakit</h2>
      <div class="mt-3 grid gap-3">
        <form id="formDisease" class="grid md:grid-cols-4 gap-2">
          <input class="rounded-xl border px-3 py-2" name="code" placeholder="P01" />
          <input class="rounded-xl border px-3 py-2 md:col-span-2" name="name" placeholder="Nama penyakit" />
          <input class="rounded-xl border px-3 py-2" name="priority" type="number" placeholder="Priority" value="100" />
          <textarea class="rounded-xl border px-3 py-2 md:col-span-4" name="description" placeholder="Deskripsi"></textarea>
          <button class="rounded-xl bg-slate-900 text-white px-4 py-2 hover:bg-slate-800 md:col-span-4" type="submit">Tambah / Update</button>
        </form>

        <div class="overflow-auto border rounded-xl">
          <table class="min-w-full text-sm">
            <thead class="bg-slate-50">
              <tr>
                <th class="text-left p-2">Code</th>
                <th class="text-left p-2">Nama</th>
                <th class="text-left p-2">Priority</th>
                <th class="text-left p-2">Aksi</th>
              </tr>
            </thead>
            <tbody id="tblDiseases"></tbody>
          </table>
        </div>
      </div>
    </section>

    <section>
      <h2 class="text-lg font-semibold">Gejala</h2>
      <div class="mt-3 grid gap-3">
        <form id="formSymptom" class="grid md:grid-cols-4 gap-2">
          <input class="rounded-xl border px-3 py-2" name="code" placeholder="G01" />
          <input class="rounded-xl border px-3 py-2 md:col-span-3" name="question" placeholder="Pertanyaan / deskripsi gejala" />
          <button class="rounded-xl bg-slate-900 text-white px-4 py-2 hover:bg-slate-800 md:col-span-4" type="submit">Tambah / Update</button>
        </form>

        <div class="overflow-auto border rounded-xl">
          <table class="min-w-full text-sm">
            <thead class="bg-slate-50">
              <tr>
                <th class="text-left p-2">Code</th>
                <th class="text-left p-2">Pertanyaan</th>
                <th class="text-left p-2">Aksi</th>
              </tr>
            </thead>
            <tbody id="tblSymptoms"></tbody>
          </table>
        </div>
      </div>
    </section>

    <section>
      <h2 class="text-lg font-semibold">Rules (Penyakit â‡¢ Gejala)</h2>
      <div class="mt-3 grid gap-3">
        <div class="grid md:grid-cols-3 gap-3">
          <label class="grid gap-1">
            <span class="text-sm text-slate-600">Pilih Penyakit</span>
            <select id="ruleDisease" class="rounded-xl border px-3 py-2"></select>
          </label>
          <label class="grid gap-1 md:col-span-2">
            <span class="text-sm text-slate-600">Pilih Gejala (urutan penting)</span>
            <select id="ruleSymptoms" class="rounded-xl border px-3 py-2 h-32" multiple></select>
          </label>
        </div>
        <button id="btnSaveRule" class="rounded-xl bg-slate-900 text-white px-4 py-2 hover:bg-slate-800">Simpan Rules</button>
        <div class="text-xs text-slate-500">
          Tips: multi-select pakai Ctrl (Windows). Urutan dipakai sebagai urutan tanya.
        </div>
      </div>
    </section>
  </div>
</div>

<script src="/static/admin_dashboard.js"></script>
{% endblock %}
